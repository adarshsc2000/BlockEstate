(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[518],{88983:function(e,t,n){(window.__NEXT_P=window.__NEXT_P||[]).push(["/browse",function(){return n(1714)}])},93554:function(e,t,n){"use strict";n.d(t,{Z:function(){return i}});var r=n(85893),s=n(9008),a=n.n(s);function i(e){return(0,r.jsxs)(a(),{children:[(0,r.jsx)("title",{children:e.title}),(0,r.jsx)("meta",{name:"description",content:e.description}),(0,r.jsx)("link",{rel:"icon",href:"/favicon.ico"})]})}i.defaultProps={title:"BlockEstate",description:"A decentralized and modern blockchain application to implement real estate"}},14558:function(e,t,n){"use strict";n.d(t,{Z:function(){return y}});var r=n(85893),s=n(93554),a=n(10682),i=n(1850),o=n(8017),p=n(89583),d=n(78003),c=n(83078),l=JSON.parse('[{"type":"constructor","payable":false,"inputs":[{"type":"address","name":"_notary"},{"type":"address","name":"_slrb"}]},{"type":"error","name":"AlreadyListed","inputs":[{"type":"address","name":"nftAddress"},{"type":"uint256","name":"tokenId"}]},{"type":"error","name":"NoProceeds","inputs":[]},{"type":"error","name":"NotApprovedForMarketplace","inputs":[]},{"type":"error","name":"NotListed","inputs":[{"type":"address","name":"nftAddress"},{"type":"uint256","name":"tokenId"}]},{"type":"error","name":"NotOwner","inputs":[]},{"type":"error","name":"PriceMustBeAboveZero","inputs":[]},{"type":"error","name":"PriceNotMet","inputs":[{"type":"address","name":"nftAddress"},{"type":"uint256","name":"tokenId"},{"type":"uint256","name":"price"}]},{"type":"event","anonymous":false,"name":"PropertyBought","inputs":[{"type":"address","name":"buyer","indexed":true},{"type":"address","name":"nftAddress","indexed":true},{"type":"uint256","name":"tokenId","indexed":true},{"type":"uint256","name":"price","indexed":false}]},{"type":"event","anonymous":false,"name":"PropertyCanceled","inputs":[{"type":"address","name":"seller","indexed":true},{"type":"address","name":"nftAddress","indexed":true},{"type":"uint256","name":"tokenId","indexed":true}]},{"type":"event","anonymous":false,"name":"PropertyListed","inputs":[{"type":"address","name":"seller","indexed":true},{"type":"address","name":"nftAddress","indexed":true},{"type":"uint256","name":"tokenId","indexed":true},{"type":"uint256","name":"price","indexed":false}]},{"type":"function","name":"buyItem","constant":false,"stateMutability":"payable","payable":true,"inputs":[{"type":"address","name":"nftAddress"},{"type":"uint256","name":"tokenId"}],"outputs":[]},{"type":"function","name":"cancelListing","constant":false,"payable":false,"inputs":[{"type":"address","name":"nftAddress"},{"type":"uint256","name":"tokenId"}],"outputs":[]},{"type":"function","name":"getListing","constant":true,"stateMutability":"view","payable":false,"inputs":[{"type":"address","name":"nftAddress"},{"type":"uint256","name":"tokenId"}],"outputs":[{"type":"tuple","components":[{"type":"uint256","name":"price"},{"type":"address","name":"seller"}]}]},{"type":"function","name":"getProceeds","constant":true,"stateMutability":"view","payable":false,"inputs":[{"type":"address","name":"seller"}],"outputs":[{"type":"uint256"}]},{"type":"function","name":"isRegularUser","constant":true,"stateMutability":"view","payable":false,"inputs":[],"outputs":[{"type":"bool"}]},{"type":"function","name":"listItem","constant":false,"payable":false,"inputs":[{"type":"address","name":"nftAddress"},{"type":"uint256","name":"tokenId"},{"type":"uint256","name":"price"}],"outputs":[]},{"type":"function","name":"updateListing","constant":false,"payable":false,"inputs":[{"type":"address","name":"nftAddress"},{"type":"uint256","name":"tokenId"},{"type":"uint256","name":"newPrice"}],"outputs":[]},{"type":"function","name":"withdrawProceeds","constant":false,"payable":false,"inputs":[],"outputs":[]}]'),m=JSON.parse('{"5":{"BlockEstate":["0xE0E7bCABae49B6e64e689573b86D58183331e458"],"PropertyNFT":["0x187Cd3f19665aD2c2A486E0762B7546f07b2edD3"]},"31337":{"BlockEstate":["0x5FbDB2315678afecb367f032d93F642f64180aa3"],"PropertyNFT":["0xe7f1725E7734CE288F8367e1Bb143E90bb3F0512"]}}'),u=n(67294),y=function(){let{isWeb3Enabled:e,chainId:t,account:n}=(0,c.Nr)(),y=t?parseInt(t).toString():"31337",{runContractFunction:h}=(0,c.JX)(),[f,x]=(0,u.useState)(!1);async function j(){e&&h({params:{abi:l,contractAddress:m[y].BlockEstate[0],functionName:"isRegularUser",params:{}},onError:e=>console.log(e),onSuccess:e=>x(e)})}return(0,u.useEffect)(()=>{j()},[e,n]),(0,r.jsxs)("div",{children:[(0,r.jsx)(s.Z,{}),(0,r.jsx)(o.Z,{collapseOnSelect:!0,bg:"primary",variant:"dark",expand:"md",fixed:"top",children:(0,r.jsxs)(a.Z,{children:[(0,r.jsxs)(o.Z.Brand,{href:"/",children:[(0,r.jsx)(p.xng,{size:28})," BlockEstate"]}),(0,r.jsxs)("div",{className:"d-flex justify-content-end",children:[(0,r.jsx)(d.cg,{className:"d-inline-block d-md-none"}),(0,r.jsx)(o.Z.Toggle,{"aria-controls":"responsive-navbar-nav"})]}),(0,r.jsx)(o.Z.Collapse,{id:"responsive-navbar-nav",children:(0,r.jsxs)(i.Z,{className:"ms-auto",children:[f&&(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(i.Z.Link,{href:"/browse",children:"Browse"}),(0,r.jsx)(i.Z.Link,{href:"#",children:"Profile"})]}),(0,r.jsx)(i.Z.Link,{href:"/whitepaper",children:"White Paper"}),(0,r.jsx)(d.cg,{className:"d-none d-md-block"})]})})]})})]})}},1714:function(e,t,n){"use strict";n.r(t),n.d(t,{default:function(){return k}});var r=n(85893),s=n(67294),a=n(14558),i=n(93554),o=n(10682),p=n(30478),d=n(35005),c=n(78182),l=n(34051),m=n(31555),u=n(89583),y=n(47516),h=n(86893),f=n(55788),x=n(41664),j=n.n(x);function b(e){let t=new Date,n=new Date;n.setDate(e.postDate.split("/")[0]),n.setMonth(e.postDate.split("/")[1]-1),n.setFullYear(e.postDate.split("/")[2]);let[a,i]=(0,s.useState)(!1);return(0,s.useEffect)(()=>{i(!0)},[]),(0,r.jsxs)(c.Z,{border:"primary",children:[(0,r.jsxs)(l.Z,{children:[(0,r.jsx)(m.Z,{xs:9,sm:5,md:4,lg:3,xl:2,children:(0,r.jsx)(c.Z.Img,{className:"img-fluid h-100",src:"/assets/".concat(e.image)})}),(0,r.jsx)(m.Z,{md:8,children:(0,r.jsx)(c.Z.Body,{children:(0,r.jsxs)(p.Z,{direction:"vertical",children:[(0,r.jsxs)("div",{children:[(0,r.jsx)(c.Z.Subtitle,{className:"text-muted",children:e.propertyType}),(0,r.jsxs)(c.Z.Title,{children:[e.priceInBhd," BHD"]}),(0,r.jsx)(c.Z.Text,{children:e.description.slice(0,115)})]}),(0,r.jsxs)("div",{className:"mt-3",children:[(0,r.jsxs)(c.Z.Subtitle,{className:"text-muted",children:[(0,r.jsx)(u.Nh4,{}),e.location]}),(0,r.jsx)(c.Z.Text,{className:"mb-1",children:a&&(0,r.jsxs)(p.Z,{direction:"horizontal",gap:2,children:[(0,r.jsxs)("div",{children:[(0,r.jsx)(y.pWL,{})," ",e.bedrooms," Bedrooms "]}),(0,r.jsx)("div",{className:"vr"}),(0,r.jsxs)("div",{children:[(0,r.jsx)(y.lc8,{})," ",e.bathrooms," Bathrooms"]}),(0,r.jsx)("div",{className:"vr"}),(0,r.jsxs)("div",{children:[(0,r.jsx)(f.y$X,{})," ",e.propertyArea," sqm"]})]})}),(0,r.jsx)(j(),{href:"/browse/".concat(encodeURIComponent(e.property_id)),children:(0,r.jsx)(d.Z,{variant:"outline-primary",size:"sm",children:"More Information"})})]})]})})})]}),(0,r.jsx)(c.Z.Footer,{children:(0,r.jsxs)(p.Z,{direction:"horizontal",children:[(0,r.jsxs)("div",{children:["Listed ",Math.floor(Math.abs(t-n)/864e5)," days ago "]}),(0,r.jsxs)(d.Z,{className:"ms-auto",variant:"outline-primary",href:"https://wa.me/+".concat(e.phoneNumber),target:"_blank",children:[(0,r.jsx)(h.EQ9,{})," Text"]})]})})]})}var g=[{property_id:1,images:["pic1prop1.jpeg","pic2prop1.jpeg","pic3prop1.jpeg"],propertyType:"Apartment",priceInBhd:"400",description:"Sea view apartment with many....slice method used to truim the string to 11 chars, so 2 lines on md screen. otherwise img does not fit card",location:"Abraj Al Lulu, Manama, Capital Governate",bedrooms:"8",bathrooms:"8",propertyArea:"736",postDate:"5/12/2022",phoneNumber:"97333344444"},{property_id:2,images:["pic4prop2.jpeg","pic5prop2.jpeg","pic6prop2.jpeg"],propertyType:"Villa",priceInBhd:"600",description:"Sea view VILLA with many....slice method used to truim the string to 11 chars, so 2 lines on md screen. otherwise img does not fit card",location:"in front of salmania, Manama, Capital Governate",bedrooms:"10",bathrooms:"14",propertyArea:"750",postDate:"8/12/2022",phoneNumber:"97322222222"},{property_id:3,images:["pic7prop3.jpeg","pic8prop3.jpeg","pic9prop3.jpeg"],propertyType:"Villa",priceInBhd:"600",description:"villa 2, prop 3....slice method used to truim the string to 11 chars, so 2 lines on md screen. otherwise img does not fit card",location:"villa 2, Manama, Capital Governate",bedrooms:"3",bathrooms:"5",propertyArea:"751",postDate:"8/12/2022",phoneNumber:"97333333333"},{property_id:4,images:["pic10prop4.jpeg","pic11prop4.jpeg","pic12prop4.jpeg"],propertyType:"Apartment",priceInBhd:"200",description:"Sea view VILLA with many....slice method used to truim the string to 11 chars, so 2 lines on md screen. otherwise img does not fit card",location:"in front of salmania, Manama, Capital Governate",bedrooms:"10",bathrooms:"14",propertyArea:"752",postDate:"8/12/2022",phoneNumber:"97322222222"},{property_id:5,images:["pic13prop5.jpg","pic14prop5.jpg","pic15prop5.jpg"],propertyType:"Apartment",priceInBhd:"300",description:"Sea view APARTMENT with many....slice method used to truim the string to 11 chars, so 2 lines on md screen. otherwise img does not fit card",location:"in front of salmania, Manama, Capital Governate",bedrooms:"4",bathrooms:"6",propertyArea:"754",postDate:"9/12/2022",phoneNumber:"97355555555"},{property_id:6,images:["pic16prop6.jpeg","pic17prop6.jpeg","pic18prop6.jpeg"],propertyType:"Villa",priceInBhd:"500",description:"Sea view VILLA with many....slice method used to truim the string to 11 chars, so 2 lines on md screen. otherwise img does not fit card",location:"in front of salmania, Manama, Capital Governate",bedrooms:"9",bathrooms:"11",propertyArea:"756",postDate:"10/12/2022",phoneNumber:"97366666666"}],v=n(16991),w=n(7297),A=n(17283);function N(){let e=(0,w.Z)(['\n  {\n    activeProperties(first: 5, where: { buyer: "0x0000000000000000000000000000000000000000" }) {\n      id\n      buyer\n      seller\n      nftAddress\n      tokenId\n      price\n    }\n  }\n']);return N=function(){return e},e}let Z=(0,A.Ps)(N());function k(e){let{loading:t,error:n,data:d}=(0,v.a)(Z);t||!d?console.log("Loading..."):d.activeProperties.map(e=>console.log(e));let[c,l]=(0,s.useState)(!0),m=g.map((e,t)=>(0,r.jsx)(b,{property_id:e.property_id,image:e.images[0],propertyType:e.propertyType,priceInBhd:e.priceInBhd,description:e.description,location:e.location,bedrooms:e.bedrooms,bathrooms:e.bathrooms,propertyArea:e.propertyArea,postDate:e.postDate,phoneNumber:e.phoneNumber},t)),[u,y]=(0,s.useState)(!1);return(0,s.useEffect)(()=>{y(!0)},[]),(0,r.jsxs)("div",{children:[(0,r.jsx)(i.Z,{title:"Browse properties"}),(0,r.jsx)(a.Z,{}),(0,r.jsx)("br",{})," ",(0,r.jsx)("br",{}),(0,r.jsx)(o.Z,{children:(0,r.jsxs)(p.Z,{gap:4,children:[(0,r.jsx)(b,{image:"pic1prop1.jpeg",propertyType:"Apartment",priceInBhd:"400",description:"Sea view apartment with many....slice method used to truim the string to 11 chars, so 2 lines on md screen. otherwise img does not fit card",location:"Abraj Al Lulu, Manama, Capital Governate",bedrooms:"8",bathrooms:"8",propertyArea:"736",postDate:"5/12/2022",phoneNumber:"97333344444"}),m]})})]})}}},function(e){e.O(0,[279,445,57,874,587,509,774,888,179],function(){return e(e.s=88983)}),_N_E=e.O()}]);